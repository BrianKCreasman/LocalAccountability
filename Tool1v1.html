<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Weekly Executive Walkthrough and Check-In Tool</title>
  <style>
    :root{
      --black:#111111;
      --gray:#6b7280;
      --white:#ffffff;
      --gold:#dbd59b;
      --bg:#f5f5f7;
      --shadow: 0 14px 36px rgba(0,0,0,0.14);
      --shadow-soft: 0 10px 22px rgba(0,0,0,0.10);
      --radius: 22px;
      --radius-sm: 16px;
      --border: 1px solid rgba(0,0,0,0.12);
    }

    *{ box-sizing:border-box; }
    html{ scroll-behavior:smooth; }
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--black);
      padding-top: 86px;
    }

    /* Top bar */
    .topbar{
      position: fixed;
      top:0; left:0; right:0;
      z-index:1000;
      background: var(--white);
      border-bottom: var(--border);
      box-shadow: 0 6px 16px rgba(0,0,0,0.08);
    }
    .topbarInner{
      max-width: 1260px;
      margin: 0 auto;
      padding: 14px 18px;
      display:flex;
      gap:12px;
      align-items:center;
      justify-content: space-between;
      flex-wrap:wrap;
    }
    .brand{
      display:flex;
      gap:12px;
      align-items:center;
      min-width: 280px;
    }
    .brandMark{
      width:42px; height:42px;
      border-radius: 14px;
      background: var(--black);
      box-shadow: var(--shadow-soft);
    }
    .brandTitle{
      line-height: 1.1;
    }
    .brandTitle h1{
      font-size: 15px;
      margin:0;
      letter-spacing: 0.2px;
    }
    .brandTitle p{
      margin:4px 0 0 0;
      font-size: 12px;
      color: rgba(0,0,0,0.65);
    }

    .topControls{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      justify-content:flex-end;
    }

    .pill{
      display:flex;
      gap:8px;
      align-items:center;
      background: #f3f4f6;
      border: var(--border);
      border-radius: 999px;
      padding: 8px 10px;
      box-shadow: 0 6px 14px rgba(0,0,0,0.06);
    }
    .pill label{
      font-size: 12px;
      font-weight: 800;
      color: rgba(0,0,0,0.75);
      white-space: nowrap;
    }
    .pill select, .pill input{
      border: none;
      outline: none;
      background: transparent;
      font-size: 12px;
      padding: 4px 6px;
      color: var(--black);
      min-width: 180px;
    }
    .pill input{ min-width: 150px; }

    .btn{
      border: none;
      border-radius: 14px;
      padding: 10px 12px;
      font-weight: 900;
      cursor: pointer;
      box-shadow: var(--shadow-soft);
      font-size: 12px;
    }
    .btnPrimary{
      background: var(--black);
      color: var(--white);
    }
    .btnGhost{
      background: var(--white);
      color: var(--black);
      border: var(--border);
      box-shadow: none;
    }

    /* Layout */
    .wrap{
      max-width: 1260px;
      margin: 0 auto;
      padding: 18px;
    }

    .introCard{
      background: var(--white);
      border: var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px 16px;
      margin-bottom: 16px;
    }
    .introCard h2{
      margin:0;
      font-size: 16px;
      letter-spacing: 0.2px;
    }
    .introCard p{
      margin:8px 0 0 0;
      color: rgba(0,0,0,0.75);
      font-size: 13px;
      line-height: 1.45;
    }

    /* Waffle (start page) */
    .waffle{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:14px;
      margin-top: 14px;
    }
    @media (max-width: 980px){
      .waffle{ grid-template-columns: 1fr; }
      body{ padding-top: 116px; }
      .pill select, .pill input{ min-width: 150px; }
    }

    .tile{
      background: var(--white);
      border: var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 14px;
      cursor:pointer;
      transition: transform .12s ease, box-shadow .12s ease;
      position: relative;
      min-height: 110px;
    }
    .tile:hover{
      transform: translateY(-2px);
      box-shadow: 0 18px 44px rgba(0,0,0,0.16);
    }
    .tileGold{ background: var(--gold); }
    .tileBlack{ background: var(--black); color: var(--white); }
    .tileGray{ background: #efefef; }
    .tileTitle{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:8px;
    }
    .tileTitle h3{
      margin:0;
      font-size: 14px;
      letter-spacing: 0.2px;
    }
    .tileTag{
      font-size: 11px;
      font-weight: 900;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,0.16);
      background: rgba(255,255,255,0.70);
      color: var(--black);
      white-space:nowrap;
    }
    .tileBlack .tileTag{
      border-color: rgba(255,255,255,0.22);
      background: rgba(255,255,255,0.10);
      color: var(--white);
    }
    .tileDesc{
      margin:0;
      font-size: 12px;
      line-height: 1.45;
      color: rgba(0,0,0,0.75);
    }
    .tileBlack .tileDesc{ color: rgba(255,255,255,0.78); }

    /* Module view */
    .moduleView{
      display:none;
      margin-top: 16px;
    }
    .moduleGrid{
      display:grid;
      grid-template-columns: 1.2fr 0.8fr;
      gap: 14px;
      align-items:start;
    }
    @media (max-width: 980px){
      .moduleGrid{ grid-template-columns: 1fr; }
    }

    .card{
      background: var(--white);
      border: var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px;
    }
    .cardGold{ background: var(--gold); }
    .cardGray{ background: #efefef; }
    .cardBlack{ background: var(--black); color: var(--white); }
    .card h2{
      margin:0 0 6px 0;
      font-size: 16px;
      letter-spacing: 0.2px;
    }
    .sub{
      margin:0 0 12px 0;
      font-size: 13px;
      color: rgba(0,0,0,0.75);
      line-height: 1.45;
    }
    .cardBlack .sub{ color: rgba(255,255,255,0.76); }

    .divider{
      height: 1px;
      background: rgba(0,0,0,0.16);
      margin: 12px 0;
    }
    .cardBlack .divider{ background: rgba(255,255,255,0.18); }

    .field{
      margin-bottom: 12px;
    }
    .field label{
      display:block;
      font-size: 12px;
      font-weight: 900;
      margin-bottom: 6px;
      color: rgba(0,0,0,0.85);
    }
    .cardBlack .field label{ color: rgba(255,255,255,0.85); }

    .field input, .field select, .field textarea{
      width: 100%;
      border-radius: 14px;
      border: 1px solid rgba(0,0,0,0.20);
      padding: 10px 12px;
      background: var(--white);
      color: var(--black);
      outline: none;
      font-size: 13px;
      box-shadow: inset 0 1px 0 rgba(0,0,0,0.06);
    }
    .field textarea{ resize: vertical; }
    .cardGold .field input, .cardGold .field select, .cardGold .field textarea{
      border-color: rgba(0,0,0,0.22);
    }

    .twoCol{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    @media (max-width: 980px){
      .twoCol{ grid-template-columns: 1fr; }
    }

    .qBlock{
      background: rgba(255,255,255,0.60);
      border: 1px solid rgba(0,0,0,0.12);
      border-radius: 18px;
      padding: 12px;
      margin-top: 12px;
    }
    .qBlock h3{
      margin:0 0 6px 0;
      font-size: 14px;
    }
    .qPrompt{
      margin:0 0 10px 0;
      color: rgba(0,0,0,0.78);
      font-size: 13px;
      line-height: 1.45;
    }
    .ratingHelp{
      margin-top: 8px;
      background: rgba(17,17,17,0.08);
      border-radius: 12px;
      padding: 10px;
      font-size: 12px;
      color: var(--black);
      min-height: 44px;
    }

    .keyBox{
      background: var(--white);
      border: 1px solid rgba(0,0,0,0.12);
      border-radius: 18px;
      padding: 12px;
      box-shadow: 0 10px 20px rgba(0,0,0,0.08);
    }
    .keyRow{
      display:flex;
      gap:10px;
      align-items:flex-start;
      padding: 10px 0;
      border-bottom: 1px solid rgba(0,0,0,0.08);
    }
    .keyRow:last-child{ border-bottom:none; }
    .keyNum{
      width:28px; height:28px;
      border-radius: 10px;
      background: var(--black);
      color: var(--white);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight: 950;
      flex:0 0 auto;
    }
    .muted{ color: rgba(0,0,0,0.65); font-size: 12px; }

    .actionsRow{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      margin-top: 10px;
    }
    .status{
      font-size: 12px;
      font-weight: 900;
      color: rgba(0,0,0,0.80);
    }

    /* Bottom nav buttons inside module view */
    .moduleNav{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      margin-top: 14px;
    }

    .smallBtn{
      border:none;
      border-radius: 14px;
      padding: 10px 12px;
      font-weight: 950;
      cursor:pointer;
      font-size: 12px;
      box-shadow: var(--shadow-soft);
    }
    .smallBtnBlack{ background: var(--black); color: var(--white); }
    .smallBtnWhite{ background: var(--white); color: var(--black); border: var(--border); box-shadow:none; }

    /* Hide/Show */
    .hidden{ display:none !important; }
  </style>
</head>

<body>
  <div class="topbar">
    <div class="topbarInner">
      <div class="brand">
        <div class="brandMark"></div>
        <div class="brandTitle">
          <h1>Weekly Executive Walkthrough and Check-In Tool</h1>
          <p>Clarity. Alignment. Coherence. Evidence. Weekly signals that make the invisible visible.</p>
        </div>
      </div>

      <div class="topControls">
        <div class="pill">
          <label for="schoolSelect">School</label>
          <select id="schoolSelect">
            <option value="">Select...</option>
            <option>Ewing ES</option>
            <option>Flemingsburg ES</option>
            <option>Hillsboro ES</option>
            <option>Simons MS</option>
            <option>Fleming County HS</option>
          </select>
        </div>

        <div class="pill">
          <label for="weekOf">Week Of</label>
          <input id="weekOf" type="date"/>
        </div>

        <button class="btn btnGhost" id="homeBtn" title="Return to start">Home</button>
        <button class="btn btnPrimary" id="printBtn" title="Print this page">Print</button>
      </div>
    </div>
  </div>

  <div class="wrap">
    <div class="introCard">
      <h2>System Tightening Note</h2>
      <p>
        This is a strong moment to pause and tighten the system. You already have the right architecture.
        What you are really doing here is making the invisible visible. Daily practice, clear signals, and
        credible evidence all lining up.
      </p>

      <div class="waffle" id="waffle">
        <div class="tile tileGold" data-module="bpi">
          <div class="tileTitle">
            <h3>BRIDGE Performance Indicators (BPIs)</h3>
            <span class="tileTag">Student Portfolio Review</span>
          </div>
          <p class="tileDesc">Interview 2 students weekly. Review BPI websites to verify priority, ownership, and mastery evidence across classes.</p>
        </div>

        <div class="tile tileGray" data-module="vl">
          <div class="tileTitle">
            <h3>Vibrant Learning</h3>
            <span class="tileTag">Learner Experience</span>
          </div>
          <p class="tileDesc">Look for student agency, real-world context, interdisciplinary learning, and Writing Across the Content showing up daily.</p>
        </div>

        <div class="tile tileGray" data-module="ps">
          <div class="tileTitle">
            <h3>Priority Standards and Proficiency Scales</h3>
            <span class="tileTag">Clarity and Focus</span>
          </div>
          <p class="tileDesc">Verify focus on depth. Students and teachers using proficiency language, targets, and evidence aligned to standards.</p>
        </div>

        <div class="tile tileGray" data-module="bim">
          <div class="tileTitle">
            <h3>BRIDGE Instructional Model</h3>
            <span class="tileTag">Workshop Practice</span>
          </div>
          <p class="tileDesc">Confirm most time is spent doing learning, not watching learning. Conferencing, feedback, routines, and purposeful work time.</p>
        </div>

        <div class="tile tileGray" data-module="bpa">
          <div class="tileTitle">
            <h3>BRIDGE Performance Assessments (BPAs)</h3>
            <span class="tileTag">Meaningful Demonstration</span>
          </div>
          <p class="tileDesc">Observe students applying knowledge in authentic scenarios. Check for rubrics, success criteria, and feedback cycles.</p>
        </div>

        <div class="tile tileGray" data-module="srg">
          <div class="tileTitle">
            <h3>Compelling Evidence and SRG</h3>
            <span class="tileTag">Credibility and Trust</span>
          </div>
          <p class="tileDesc">Confirm grades reflect mastery, evidence over time, and transparency for students and families.</p>
        </div>

        <div class="tile tileBlack" data-module="notes">
          <div class="tileTitle">
            <h3>Weekly Executive Notes</h3>
            <span class="tileTag">Synthesis</span>
          </div>
          <p class="tileDesc">Capture patterns, coherence gaps, and next actions. Convert observations into clear signals and support.</p>
        </div>

        <div class="tile tileGray" data-module="evidence">
          <div class="tileTitle">
            <h3>Evidence Curation</h3>
            <span class="tileTag">Artifacts</span>
          </div>
          <p class="tileDesc">Document evidence points collected this week. Tie evidence to focus areas and next moves.</p>
        </div>

        <div class="tile tileGray" data-module="followup">
          <div class="tileTitle">
            <h3>Follow-Up and Support</h3>
            <span class="tileTag">Next Moves</span>
          </div>
          <p class="tileDesc">Assign coaching actions, supports, and timelines. Keep work prioritized and doable.</p>
        </div>
      </div>
    </div>

    <!-- MODULE VIEW (only BPI built out fully here, others are placeholders for your next iterations) -->
    <div class="moduleView" id="moduleView">
      <div class="moduleGrid">
        <!-- LEFT -->
        <div class="card cardGold" id="moduleLeft">
          <h2 id="moduleTitle">Module</h2>
          <p class="sub" id="moduleSub">Select a module from Home to begin.</p>

          <div id="moduleBody"></div>

          <div class="moduleNav">
            <button class="smallBtn smallBtnWhite" id="backHomeBtn">Back to Home</button>
            <div style="display:flex; gap:10px; align-items:center;">
              <button class="smallBtn smallBtnBlack" id="saveLocalBtn">Save Locally</button>
            </div>
          </div>
        </div>

        <!-- RIGHT -->
        <div class="card" id="moduleRight">
          <h2>Rating Key</h2>
          <p class="sub">Use Transactional to Transformational to track progress. Notes are the evidence.</p>

          <div class="keyBox">
            <div class="keyRow">
              <div class="keyNum">1</div>
              <div>
                <b>Transactional</b><br>
                <span class="muted">Compliance-driven. Add-on behavior. Evidence is minimal and inconsistent. Ownership is adult-centered.</span>
              </div>
            </div>
            <div class="keyRow">
              <div class="keyNum">2</div>
              <div>
                <b>Traditional</b><br>
                <span class="muted">Mostly assignment completion. Some routines exist, but purpose and mastery are not consistently visible to students.</span>
              </div>
            </div>
            <div class="keyRow">
              <div class="keyNum">3</div>
              <div>
                <b>Transitional</b><br>
                <span class="muted">Purpose and mastery are emerging. Evidence is collected across settings. Student reflection and alignment are developing.</span>
              </div>
            </div>
            <div class="keyRow">
              <div class="keyNum">4</div>
              <div>
                <b>Transformational</b><br>
                <span class="muted">Student-owned mastery evidence. Daily practice and artifacts align. System is coherent and visible across classrooms.</span>
              </div>
            </div>
          </div>

          <div class="divider"></div>

          <h2 style="margin-top:0;">Quick Reminders</h2>
          <p class="sub">
            Keep the weekly focus tight. 1 to 2 focus areas is enough when evidence is credible and follow-up is clear.
            Use ratings to spot patterns. Use notes to prove them.
          </p>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Default weekOf to today
    (function initDate(){
      const el = document.getElementById("weekOf");
      if (el && !el.value) {
        const d = new Date();
        const yyyy = d.getFullYear();
        const mm = String(d.getMonth()+1).padStart(2,"0");
        const dd = String(d.getDate()).padStart(2,"0");
        el.value = `${yyyy}-${mm}-${dd}`;
      }
    })();

    // Print
    document.getElementById("printBtn").addEventListener("click", () => window.print());

    // Home button
    document.getElementById("homeBtn").addEventListener("click", () => showHome());
    document.getElementById("backHomeBtn").addEventListener("click", () => showHome());

    function showHome(){
      document.getElementById("moduleView").style.display = "none";
      document.getElementById("waffle").style.display = "grid";
      window.scrollTo({top:0, behavior:"smooth"});
    }

    // Tile click
    document.querySelectorAll(".tile").forEach(tile => {
      tile.addEventListener("click", () => {
        const mod = tile.getAttribute("data-module");
        openModule(mod);
      });
    });

    function openModule(moduleKey){
      document.getElementById("waffle").style.display = "none";
      document.getElementById("moduleView").style.display = "block";

      const title = document.getElementById("moduleTitle");
      const sub = document.getElementById("moduleSub");
      const body = document.getElementById("moduleBody");

      // Reset
      body.innerHTML = "";

      if (moduleKey === "bpi"){
        title.textContent = "BRIDGE Performance Indicators (BPIs)";
        sub.textContent = "Student interview protocol. Review BPI websites to verify priority, ownership, evidence across classes, and instructional opportunity.";

        body.innerHTML = getBpiStudentInterviewHTML();
        wireBpiHelpers();
        return;
      }

      // Placeholders for other modules (you can expand next)
      const map = {
        vl: ["Vibrant Learning", "Daily look-fors and evidence checks for agency, relevance, interdisciplinary learning, and Writing Across the Content."],
        ps: ["Priority Standards and Proficiency Scales", "Weekly checks for clarity, alignment, proficiency language, and standards-based evidence."],
        bim: ["BRIDGE Instructional Model (Workshop Model)", "Observation prompts for mini-lesson, work time, conferencing, feedback, routines, and closure."],
        bpa: ["BRIDGE Performance Assessments (BPAs)", "Prompts to verify authentic tasks, success criteria, durable skills, and reflection cycles."],
        srg: ["Compelling Evidence and Standards-Referenced Grading (SRG)", "Checks for mastery-based reporting, evidence over time, and transparency."],
        notes: ["Weekly Executive Notes", "Synthesize patterns. Identify coherence gaps. Capture clear next actions."],
        evidence: ["Evidence Curation", "Log artifacts, links, and evidence points to support claims and follow-up."],
        followup: ["Follow-Up and Support", "Assign coaching actions, supports, owners, and timelines."]
      };

      if (map[moduleKey]){
        title.textContent = map[moduleKey][0];
        sub.textContent = map[moduleKey][1];
      } else {
        title.textContent = "Module";
        sub.textContent = "Select a module from Home to begin.";
      }

      body.innerHTML = `
        <div class="qBlock">
          <h3>Coming Next</h3>
          <p class="qPrompt">
            This module is staged for your next build. The BPI Student Interview module is fully embedded now.
            When you are ready, tell me which module to build next and we will mirror the same clarity, rating,
            evidence, and weekly priority structure.
          </p>
        </div>
      `;

      window.scrollTo({top:0, behavior:"smooth"});
    }

    // Local save (simple)
    document.getElementById("saveLocalBtn").addEventListener("click", () => {
      const payload = collectAllInputs();
      const key = "FCS_WeeklyTool_" + (document.getElementById("weekOf").value || "week");
      localStorage.setItem(key, JSON.stringify(payload));
      alert("Saved locally in this browser as: " + key);
    });

    function collectAllInputs(){
      const inputs = Array.from(document.querySelectorAll("input, select, textarea"));
      const out = {};
      inputs.forEach(el => {
        if (!el.id) return;
        out[el.id] = el.value;
      });
      return out;
    }

    // --- BPI Student Interview Module ---
    function getBpiStudentInterviewHTML(){
      return `
        <div class="twoCol">
          <div class="field">
            <label>Interview Date</label>
            <input id="bpiDate" type="date"/>
          </div>
          <div class="field">
            <label>School (auto from top, editable here)</label>
            <select id="bpiSchool">
              <option value="">Select...</option>
              <option>Ewing ES</option>
              <option>Flemingsburg ES</option>
              <option>Hillsboro ES</option>
              <option>Simons MS</option>
              <option>Fleming County HS</option>
            </select>
          </div>
        </div>

        <div class="twoCol">
          <div class="field">
            <label>Interviewer</label>
            <input id="bpiInterviewer" type="text" placeholder="Name"/>
          </div>
          <div class="field">
            <label>Student Grade Band</label>
            <select id="bpiGradeBand">
              <option value="">Select...</option>
              <option>Grades 3-5</option>
              <option>Grades 6-8</option>
              <option>Grades 9-12</option>
            </select>
          </div>
        </div>

        <div class="twoCol">
          <div class="field">
            <label>Student First Name (optional)</label>
            <input id="bpiStudentName" type="text" placeholder="First name only"/>
          </div>
          <div class="field">
            <label>Student BPI Website URL</label>
            <input id="bpiUrl" type="url" placeholder="https://..."/>
          </div>
        </div>

        <div class="divider"></div>

        <div class="qBlock">
          <h3>Question 1: Ownership of the BPI Website</h3>
          <p class="qPrompt">Tell me about your BPI website. What is it for, and how do you use it?</p>
          <div class="twoCol">
            <div class="field">
              <label>Notes</label>
              <textarea id="q1Notes" rows="3" placeholder="Capture student language, examples, and evidence."></textarea>
            </div>
            <div class="field">
              <label>Rating (Transactional to Transformational)</label>
              <select id="q1Rating">
                <option value="">Select...</option>
                <option value="1">1 - Transactional</option>
                <option value="2">2 - Traditional</option>
                <option value="3">3 - Transitional</option>
                <option value="4">4 - Transformational</option>
              </select>
              <div class="ratingHelp" id="q1Help"></div>
            </div>
          </div>
        </div>

        <div class="qBlock">
          <h3>Question 2: Evidence of Mastery Across Classes</h3>
          <p class="qPrompt">Can you show me examples from different classes that demonstrate what you are good at or have improved in?</p>
          <div class="twoCol">
            <div class="field">
              <label>Notes</label>
              <textarea id="q2Notes" rows="3"></textarea>
            </div>
            <div class="field">
              <label>Rating</label>
              <select id="q2Rating">
                <option value="">Select...</option>
                <option value="1">1 - Transactional</option>
                <option value="2">2 - Traditional</option>
                <option value="3">3 - Transitional</option>
                <option value="4">4 - Transformational</option>
              </select>
              <div class="ratingHelp" id="q2Help"></div>
            </div>
          </div>
        </div>

        <div class="qBlock">
          <h3>Question 3: Reflection and Growth</h3>
          <p class="qPrompt">Pick one piece on your BPI website. How has your learning grown from your first attempt to now?</p>
          <div class="field">
            <label>Notes</label>
            <textarea id="q3Notes" rows="3"></textarea>
          </div>
        </div>

        <div class="qBlock">
          <h3>Question 4: Teacher Expectations and Opportunities</h3>
          <p class="qPrompt">In your classes, how often do teachers give you opportunities to create, revise, or choose work that can go on your BPI website?</p>
          <div class="twoCol">
            <div class="field">
              <label>Notes</label>
              <textarea id="q4Notes" rows="3"></textarea>
            </div>
            <div class="field">
              <label>Rating</label>
              <select id="q4Rating">
                <option value="">Select...</option>
                <option value="1">1 - Transactional</option>
                <option value="2">2 - Traditional</option>
                <option value="3">3 - Transitional</option>
                <option value="4">4 - Transformational</option>
              </select>
              <div class="ratingHelp" id="q4Help"></div>
            </div>
          </div>
        </div>

        <div class="qBlock">
          <h3>Question 5: Priority, Use, and Future Value</h3>
          <p class="qPrompt">Why do you think your BPI website matters for you now and in the future?</p>
          <div class="twoCol">
            <div class="field">
              <label>Notes</label>
              <textarea id="q5Notes" rows="3"></textarea>
            </div>
            <div class="field">
              <label>Rating</label>
              <select id="q5Rating">
                <option value="">Select...</option>
                <option value="1">1 - Transactional</option>
                <option value="2">2 - Traditional</option>
                <option value="3">3 - Transitional</option>
                <option value="4">4 - Transformational</option>
              </select>
              <div class="ratingHelp" id="q5Help"></div>
            </div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="qBlock">
          <h3>Optional Coherence Check</h3>
          <p class="qPrompt">
            Based on this interview, is the BPI website an add-on or embedded inside core learning across classes?
            Capture one pattern you would elevate, and one barrier you need to remove.
          </p>
          <div class="twoCol">
            <div class="field">
              <label>Pattern to Elevate</label>
              <textarea id="bpiPattern" rows="3" placeholder="What is working and should be scaled?"></textarea>
            </div>
            <div class="field">
              <label>Barrier to Remove</label>
              <textarea id="bpiBarrier" rows="3" placeholder="What is blocking coherence or ownership?"></textarea>
            </div>
          </div>
        </div>

        <div class="actionsRow">
          <button class="btn btnPrimary" id="bpiExportBtn">Export Interview Summary</button>
          <span class="status" id="bpiStatus"></span>
        </div>
      `;
    }

    function wireBpiHelpers(){
      // set date defaults
      const today = new Date();
      const yyyy = today.getFullYear();
      const mm = String(today.getMonth()+1).padStart(2,"0");
      const dd = String(today.getDate()).padStart(2,"0");

      const bpiDate = document.getElementById("bpiDate");
      if (bpiDate && !bpiDate.value) bpiDate.value = `${yyyy}-${mm}-${dd}`;

      // Pull school from top selector if set
      const topSchool = document.getElementById("schoolSelect").value;
      const bpiSchool = document.getElementById("bpiSchool");
      if (bpiSchool && topSchool && !bpiSchool.value) bpiSchool.value = topSchool;

      const ratingText = {
        1: "Transactional: Compliance-driven. Add-on behavior. Student language reflects requirements. Evidence is minimal or inconsistent.",
        2: "Traditional: Mostly assignment collection. Some purpose is present, but it is adult-owned and not consistently curated across classes.",
        3: "Transitional: Purpose and mastery are emerging. Multiple classes contribute. Reflection and curation are developing and becoming more consistent.",
        4: "Transformational: Student-owned portfolio of mastery. Evidence is curated across contexts and time. The website tells the story of who the student is becoming."
      };

      function hook(selectId, helpId){
        const sel = document.getElementById(selectId);
        const help = document.getElementById(helpId);
        if (!sel || !help) return;
        help.textContent = sel.value ? ratingText[sel.value] : "";
        sel.addEventListener("change", () => {
          help.textContent = sel.value ? ratingText[sel.value] : "";
        });
      }

      hook("q1Rating","q1Help");
      hook("q2Rating","q2Help");
      hook("q4Rating","q4Help");
      hook("q5Rating","q5Help");

      // Export summary (copyable text)
      const exportBtn = document.getElementById("bpiExportBtn");
      const status = document.getElementById("bpiStatus");

      exportBtn.addEventListener("click", async () => {
        const payload = {
          weekOf: document.getElementById("weekOf").value || "",
          date: document.getElementById("bpiDate").value || "",
          school: document.getElementById("bpiSchool").value || "",
          interviewer: document.getElementById("bpiInterviewer").value || "",
          gradeBand: document.getElementById("bpiGradeBand").value || "",
          student: document.getElementById("bpiStudentName").value || "",
          url: document.getElementById("bpiUrl").value || "",
          q1Notes: document.getElementById("q1Notes").value || "",
          q1Rating: document.getElementById("q1Rating").value || "",
          q2Notes: document.getElementById("q2Notes").value || "",
          q2Rating: document.getElementById("q2Rating").value || "",
          q3Notes: document.getElementById("q3Notes").value || "",
          q4Notes: document.getElementById("q4Notes").value || "",
          q4Rating: document.getElementById("q4Rating").value || "",
          q5Notes: document.getElementById("q5Notes").value || "",
          q5Rating: document.getElementById("q5Rating").value || "",
          pattern: document.getElementById("bpiPattern").value || "",
          barrier: document.getElementById("bpiBarrier").value || ""
        };

        const text =
`WEEKLY BPI STUDENT INTERVIEW SUMMARY
Week Of: ${payload.weekOf}
Interview Date: ${payload.date}
School: ${payload.school}
Interviewer: ${payload.interviewer}
Student Grade Band: ${payload.gradeBand}
Student First Name: ${payload.student}
BPI Website URL: ${payload.url}

Q1 Ownership and Purpose (Rating ${payload.q1Rating || "n/a"}):
${payload.q1Notes}

Q2 Evidence Across Classes (Rating ${payload.q2Rating || "n/a"}):
${payload.q2Notes}

Q3 Reflection and Growth:
${payload.q3Notes}

Q4 Teacher Opportunities (Rating ${payload.q4Rating || "n/a"}):
${payload.q4Notes}

Q5 Future Value (Rating ${payload.q5Rating || "n/a"}):
${payload.q5Notes}

Pattern to Elevate:
${payload.pattern}

Barrier to Remove:
${payload.barrier}
`;

        try{
          await navigator.clipboard.writeText(text);
          status.textContent = "Copied to clipboard.";
        }catch(e){
          // fallback: open prompt
          window.prompt("Copy the text below:", text);
          status.textContent = "Opened copy box.";
        }
      });

      window.scrollTo({top:0, behavior:"smooth"});
    }
  </script>
</body>
</html>
